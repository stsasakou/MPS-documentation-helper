<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><link rel="canonical" href="https://www.jetbrains.com/help/mps/mps-intentions.html" data-react-helmet="true"/><meta charset="UTF-8"></meta><meta name="built-on" content="2024-08-08T15:14:22.01379396"><meta name="build-number" content="170"><title>Intentions | MPS Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"usingintentions","level":0,"title":"Using intentions","anchor":"#usingintentions"}]</script><script type="application/json" id="topic-shortcuts">{"ShowIntentionActions":{"Windows":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"Emacs":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"GNOME":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"KDE":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"Sublime Text":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"XWin":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"macOS":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"MAC"},"Sublime Text (macOS)":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"MAC"}}}</script><link href="https://resources.jetbrains.com/storage/help-app/v6/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Intentions | MPS"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><meta property="og:site_name" content="MPS Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/mps/mps-intentions.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@jetbrains_MPS"><meta name="twitter:title" content="Intentions | MPS"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@jetbrains_MPS"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/mps/mps-intentions.html#webpage",
    "url": "https://www.jetbrains.com/help/mps/mps-intentions.html",
    "name": "Intentions | MPS",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/mps/#website",
    "url": "https://www.jetbrains.com/help/mps/",
    "name": "MPS Help"
}</script><!-- End Schema.org --><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
</head><body data-id="mps-intentions" data-main-title="Intentions" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="mps-user-s-guide.topic|MPS User's Guide///language-definition.topic|Language-definition"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MPS 2024.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="mps-intentions" id="mps-intentions.topic">Intentions</h1><p id="-2omxgk_1">Intentions are a very good example of how MPS enables language authors to smoothen the user experience of people using their language. Intentions provide fast access to the most used operations with syntactical constructions of a language, such as "negate boolean", "invert if condition", "create-from-usage", and so on If you've ever used IntelliJ IDEA's intentions or similar features of any modern IDEs, you will find MPS intentions very familiar.</p><section class="chapter"><h2 id="usingintentions" data-toc="usingintentions">Using intentions</h2><figure id="-2omxgk_2"><img alt="intentions-menu.PNG" src="https://resources.jetbrains.com/help/img/idea/2024.1/intentions-menu.PNG" title="intentions-menu.PNG" width="343" height="166"></figure><p id="-2omxgk_3">Like in IDEA, if there are available intentions applicable to the code at the current position, a light bulb is shown. To view the list of available intentions, press <kbd id="-2omxgk_4" data-key="ShowIntentionActions">Alt+Enter</kbd> or click the light bulb. To apply an intention, either click it or select it and press Enter. This will trigger the intention and alter the code accordingly.</p><p id="-2omxgk_5"><em id="-2omxgk_6">Example: list of applicable intentions</em></p><p id="-2omxgk_7">The intentions menu usually contains 1 up to 20 items, sorted by labeled groups. It is click-friendlier than the Cell Menu as it shows all available items. Keyboard-only use is convenient though. Mouse-only use possible, yet requires waiting for the&nbsp;light-bulb&nbsp;icon to appear.&nbsp;While the intentions menu is open, you may start typing to filter the list elements in a tolerant, gap-respecting search. It is initially unfiltered unlike the code completion menu.</p><p id="-2omxgk_8">Open it with <kbd id="-2omxgk_9" data-key="ShowIntentionActions">Alt+Enter</kbd> or clicking on the "shortly-appearing"&nbsp;light-bulb&nbsp;icon at the left hand side of the current line. Type to filter. Select an item with arrow keys or hovering it. Finish with <em id="-2omxgk_10">Enter</em> or a&nbsp;single&nbsp;click. Aborting it works the same as the cell menu,&nbsp;with <em id="-2omxgk_11">Escape</em>, clicking outside the menu, or changing to another application.</p><section class="chapter"><h3 id="intentiontypes" data-toc="intentiontypes">Intention types</h3><p id="-2omxgk_12">All intentions are "shortcuts" of a sort, bringing some operations on node structure closer to the user. Two kinds of intentions can be distinguished: regular intentions (possibly with parameters) and "surround with" intentions.</p><p id="-2omxgk_13">Generally speaking, there is no technical difference between these types of intentions. They only differ in how they are typically used by the user.</p><p id="-2omxgk_14"><b id="-2omxgk_15">regular intentions</b>&nbsp;are listed on the list of intentions (the light bulb) and they directly perform transformations on a node without asking the user for parameters customizing the operations.</p><p id="-2omxgk_16"><b id="-2omxgk_17">"surround with" intentions</b>&nbsp;are used to implement a special kind of transformation - surrounding some node(s) with another construct (for example "surround with parenthesis"). These intentions are not offered to the users unless they press&nbsp;<em id="-2omxgk_18">ctrl-alt-T</em>&nbsp;(the&nbsp;<em id="-2omxgk_19">surround with</em>&nbsp;command) on a node. Neither they are shown in general intentions popup menu.</p><p id="-2omxgk_20"><b id="-2omxgk_21">Universal Intention</b> is a new experimental feature introduced in 3.4, which allows to unify intentions and parameterized intentions. In addition, it allows to add methods and other class members to intention and has a more java-like editor. As the feature is still in an experimental stage, we decided not to replace the old functionality fully. We still recommend you to use the old intentions, but those, who like the new editor better, can experiment with the new ones. The structure of the universal intention is very similar to the old intentions and using them is very straightforward.</p></section><section class="chapter"><h3 id="commonintentionstructure" data-toc="commonintentionstructure">Common Intention Structure</h3><div class="table-wrapper"><table class="wide" id="-2omxgk_22"><thead><tr class="ijRowHead" id="-2omxgk_23"><th id="-2omxgk_24"><section class="chapter"><h4 id="name" data-toc="name">name</h4></section></th><th id="-2omxgk_25"><p id="-2omxgk_26">The name of an intention. You can choose any name you like, the only obvious constraint being that names must be unique in scope of the model.</p></th></tr></thead><tbody><tr id="-2omxgk_27"><td id="-2omxgk_28"><section class="chapter"><h4 id="forconcept" data-toc="forconcept">for concept</h4></section></td><td id="-2omxgk_29"><p id="-2omxgk_30">Intention will be tested for applicability only to nodes that are instances of this concept and its subconcepts.</p></td></tr><tr id="-2omxgk_31"><td id="-2omxgk_32"><section class="chapter"><h4 id="availableinchildnodes" data-toc="availableinchildnodes">available in child nodes</h4></section></td><td id="-2omxgk_33"><p id="-2omxgk_34">Suppose N is a node for which the intention can be applied. If this flag is set to false, intention will be visible only when the caret is over the node N itself. If set to true, it will be also visible in N's descendants (but still will be applied to N)</p></td></tr><tr id="-2omxgk_35"><td id="-2omxgk_36"><section class="chapter"><h4 id="childfilter" data-toc="childfilter">child filter</h4></section></td><td id="-2omxgk_37"><p id="-2omxgk_38">Used to show an intention only in some children. For example "make method final" intention is better not to be shown inside method's body, but preferably to be shown in the whole header, including "public" child.</p></td></tr><tr id="-2omxgk_39"><td id="-2omxgk_40"><section class="chapter"><h4 id="description" data-toc="description">description</h4></section></td><td id="-2omxgk_41"><p id="-2omxgk_42">The value returned by this function is what users will see in the list of intentions.</p></td></tr><tr id="-2omxgk_43"><td id="-2omxgk_44"><section class="chapter"><h4 id="isapplicable" data-toc="isapplicable">isApplicable</h4></section></td><td id="-2omxgk_45"><p id="-2omxgk_46">Intentions that have passed the "for concept" test are tested for applicability to the current node. If this method returns "true," the intention is shown in the list and can be applied. Otherwise the intention is not shown in the list. The&nbsp;<b id="-2omxgk_47">node</b>&nbsp;argument of this method is guaranteed to be an instance of the concept specified in "for concept" or one of its subconcepts.</p></td></tr><tr id="-2omxgk_48"><td id="-2omxgk_49"><section class="chapter"><h4 id="execute" data-toc="execute">execute</h4></section></td><td id="-2omxgk_50"><p id="-2omxgk_51">This method performs a code transformation. It is guaranteed that the&nbsp;<b id="-2omxgk_52">node</b>&nbsp;parameter has passed the "for concept" and "is applicable" tests.</p></td></tr><tr id="-2omxgk_53"><td id="-2omxgk_54"><section class="chapter"><h4 id="additional_fields" data-toc="additional_fields">additional fields</h4></section></td><td id="-2omxgk_55"><p id="-2omxgk_56">This section allows the user to define fields that can store values between subsequent calls to the intention's methods. The fields need to specify their name, type and optionally an initializer. The fields must be <em id="-2omxgk_57">private</em>. <br> Since MPS reuses intention instances the value you read from the field mey come from a previous invocation of the intention, perhaps on a different node. So always set the value in <em id="-2omxgk_59">isApplicable()</em> so that you can read it in subsequent calls to <em id="-2omxgk_60">description</em> and <em id="-2omxgk_61">execute</em>.</p></td></tr><tr id="-2omxgk_62"><td id="-2omxgk_63"><section class="chapter"><h4 id="additional_methods" data-toc="additional_methods">additional methods</h4></section></td><td id="-2omxgk_64"><p id="-2omxgk_65">This section allows the user to define utility methods that can be called from within the intention to avoid repetition. The additional methods typically perform calculations or perform tasks that are needed in multiple places of the intention. The additional methods must be <em id="-2omxgk_66">private</em> to only be visible from within the containing node.</p></td></tr></tbody></table></div><section class="chapter"><h4 id="regularintentions" data-toc="regularintentions">Regular Intentions</h4><p id="-2omxgk_67"><b id="-2omxgk_68">is error intention</b>&nbsp;- This flag is responsible for an intention's presentation. It distinguishes two types of intentions - "error" intentions which correct some errors in the code (for example a missing 'cast') and "regular" intentions, which are intended to help the user perform some genuine code transformations. To visually distinguish the two types, error intentions are shown with a red bulb, instead of an orange one, and are placed above regular intentions in the applicable intentions list.</p></section><section class="chapter"><h4 id="parameterizedregularintentions" data-toc="parameterizedregularintentions">Parameterized regular intentions</h4><p id="-2omxgk_69">Intentions can sometimes be very close to one another. They may all need to perform the same transformation with a node, just slightly differently. For example all "Add ... macro" intentions in the generator ultimately add a macro, but the added macro itself is different for different intentions. This is the case when&nbsp;<b id="-2omxgk_70">parameterized intention</b>&nbsp;is needed. Instead of creating separate intentions, you create a single intention and allow for its parametrization. The intention has a&nbsp;<b id="-2omxgk_71">parameter</b>&nbsp;function, which returns a list of parameter values. Based on the list, a number of intentions are created , each with a diferent parameter value. The parameter values can then be accessed in almost every intention's method.</p><aside class="prompt" data-type="tip" data-title="" id="-2omxgk_72"><p id="-2omxgk_73">You don't have an access to the&nbsp;<em id="-2omxgk_74">parameter</em>&nbsp;in the&nbsp;<em id="-2omxgk_75">isApplicable</em>&nbsp;function. This is because of performance reasons. As&nbsp;<em id="-2omxgk_76">isApplicable</em>&nbsp;is executed very often and delays would quickly become noticeable by the user, you should perform only base checks in&nbsp;<em id="-2omxgk_77">isApplicable</em>. All parameter-dependent checks should be performed in the&nbsp;<em id="-2omxgk_78">parameter</em>&nbsp;function, and if a check was not passed, this parameter should not be returned</p></aside></section><section class="chapter"><h4 id="surroundwith-intentions" data-toc="surroundwith-intentions">Surround With - Intentions</h4><p id="-2omxgk_79">This type of intentions is very similar to regular intentions and all the mentioned details apply to these intentions as well.</p></section></section><section class="chapter"><h3 id="wheretostoremyintentions?" data-toc="wheretostoremyintentions?">Where to store my intentions?</h3><p id="-2omxgk_80">You can create intentions in any model by importing the intentions language. However, MPS collects intentions only from the&nbsp;<b id="-2omxgk_81">Intentions</b>&nbsp;language aspects. If you want your intentions to be used by the MPS intentions subsystem, they must be stored in the&nbsp;<b id="-2omxgk_82">Intentions</b>&nbsp;aspect of your language.</p></section></section><div class="last-modified">Last modified: 11 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="typesystem-debugging.html" class="navigation-links__prev">Typesystem Debugging</a><a href="data-flow.html" class="navigation-links__next">Data flow</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/storage/help-app/v6/app.js"></script></body></html>
<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><link rel="canonical" href="https://www.jetbrains.com/help/mps/data-flow.html" data-react-helmet="true"/><meta charset="UTF-8"></meta><meta name="built-on" content="2024-08-08T15:14:22.047321128"><meta name="build-number" content="170"><title>Data flow | MPS Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"commandsofintermediatelanguage","level":0,"title":"Commands of intermediate language","anchor":"#commandsofintermediatelanguage"},{"id":"maybeunreachable","level":0,"title":"May be unreachable","anchor":"#maybeunreachable"},{"id":"links:","level":0,"title":"Links:","anchor":"#links:"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/storage/help-app/v6/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Data flow | MPS"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><meta property="og:site_name" content="MPS Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/mps/data-flow.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@jetbrains_MPS"><meta name="twitter:title" content="Data flow | MPS"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@jetbrains_MPS"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/mps/data-flow.html#webpage",
    "url": "https://www.jetbrains.com/help/mps/data-flow.html",
    "name": "Data flow | MPS",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/mps/#website",
    "url": "https://www.jetbrains.com/help/mps/",
    "name": "MPS Help"
}</script><!-- End Schema.org --><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
</head><body data-id="data-flow" data-main-title="Data flow" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="mps-user-s-guide.topic|MPS User's Guide///language-definition.topic|Language-definition"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MPS 2024.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="data-flow" id="data-flow.topic">Data flow</h1><p id="r322gx_1">A language's data flow aspect allows you to find unreachable statements, detect unused assignments, check whether a variable might not be initialized before it's read, and so on. It also allows performing some code transformations, for example the 'extract method' refactoring.</p><p id="r322gx_2">Most users of data flow analyses aren't interested in details of its inner working, but are interested in getting the results they need. They want to know which of their statements are unreachable, and what can be read before it's initialized. In order to shield a user from the complexities of these analyses, we provide assembly-like intermediate language into which you translate your program. After translation, this intermediate presentation is analyzed and a user can find which of the statements of original language are unreachable etc.</p><p id="r322gx_3">For example here is the translation of a 'for' loop from baseLanguage:</p><figure id="r322gx_4"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/dfx2.png" class="lightbox"><img alt="dfx2.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/dfx2.png" title="dfx2.png" width="500" height="216"></a></figure><p id="r322gx_5">First, we emit a label so we can jump after it. Then we perform a conditional jump after the current node. Then we emit code for node.variable. Finally, we emit code for the loop's body, and jump to the previously emitted label.</p><section class="chapter"><h2 id="commandsofintermediatelanguage" data-toc="commandsofintermediatelanguage">Commands of intermediate language</h2><p id="r322gx_6">Here are the commands of our intermediate language:</p><ul class="list _bullet" id="r322gx_7"><li class="list__item" id="r322gx_8"><p>read x - reads a variable x</p></li><li class="list__item" id="r322gx_9"><p>write x - writes to variable x</p></li><li class="list__item" id="r322gx_10"><p>jump before node - jumps before node</p></li><li class="list__item" id="r322gx_11"><p>jump after node - jumps after node</p></li><li class="list__item" id="r322gx_12"><p>jump label - jumps to label</p></li><li class="list__item" id="r322gx_13"><p>ifjump ((before|after)node)| label - conditional jump before/after node / to label</p></li><li class="list__item" id="r322gx_14"><p>code for node - insert code for node</p></li><li class="list__item" id="r322gx_15"><p>ret - returns from current subroutine</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="r322gx_16"><p id="r322gx_17">For nodes that can be <b id="r322gx_18">null</b> be sure that you check for the actual value not being null before you insert an instruction that refers to the nodes.</p><figure id="r322gx_19"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/DF_null.png" class="lightbox"><img alt="DF_null.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/DF_null.png" title="DF_null.png" width="300" height="61"></a></figure></aside></section><section class="chapter"><h2 id="maybeunreachable" data-toc="maybeunreachable">May be unreachable</h2><p id="r322gx_20">Some commands shouldn't be highlighted as unreachable. For example we might want to write some code like this:</p><div class="code-block" data-lang="none">for (Object o : list) {
  return o;
}
</div><p id="r322gx_22">If you generate data flow intermediate code for this statement, the last command: the <b id="r322gx_23">jump after condition</b>&nbsp;command will be unreachable. On the other hand, it's a legal base language statement, so we want to ignore this command during reachable statement analysis. To do so we mark it is as <b id="r322gx_24">may be unreachable</b>, which is indicated by curly braces around it. You can toggle this settings with the appropriate <b id="r322gx_25">intention</b>.</p><figure id="r322gx_26"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/dfx1.png" class="lightbox"><img alt="dfx1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/dfx1.png" title="dfx1.png" width="500" height="247"></a></figure><figure id="r322gx_27"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/dfx2.png" class="lightbox"><img alt="dfx2.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/dfx2.png" title="dfx2.png" width="500" height="216"></a></figure><p id="r322gx_28">You may like to try our <a href="dataflow.html" id="r322gx_29">Dataflow cookbook</a>, as well.</p></section><section class="chapter"><h2 id="links:" data-toc="links:">Links:</h2><p id="r322gx_30"><a href="http://www.itu.dk/people/brabrand/UFPE/Data-Flow-Analysis/static.pdf" id="r322gx_31" data-external="true" rel="noopener noreferrer">http://www.itu.dk/people/brabrand/UFPE/Data-Flow-Analysis/static.pdf</a> - good introduction to static analyses including data flow and type systems.</p></section><div class="last-modified">Last modified: 11 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="mps-intentions.html" class="navigation-links__prev">Intentions</a><a href="mps-generator.html" class="navigation-links__next">Generator</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/storage/help-app/v6/app.js"></script></body></html>
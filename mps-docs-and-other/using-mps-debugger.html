<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><link rel="canonical" href="https://www.jetbrains.com/help/mps/using-mps-debugger.html" data-react-helmet="true"/><meta charset="UTF-8"></meta><meta name="built-on" content="2024-08-08T15:14:20.035185826"><meta name="build-number" content="170"><title>Using the MPS Debugger | MPS Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"usingmpsdebugger","level":0,"title":"Debugging","anchor":"#usingmpsdebugger"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/storage/help-app/v6/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Using the MPS Debugger | MPS"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><meta property="og:site_name" content="MPS Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/mps/using-mps-debugger.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@jetbrains_MPS"><meta name="twitter:title" content="Using the MPS Debugger | MPS"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@jetbrains_MPS"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/mps/using-mps-debugger.html#webpage",
    "url": "https://www.jetbrains.com/help/mps/using-mps-debugger.html",
    "name": "Using the MPS Debugger | MPS",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/mps/#website",
    "url": "https://www.jetbrains.com/help/mps/",
    "name": "MPS Help"
}</script><!-- End Schema.org --><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
</head><body data-id="using-mps-debugger" data-main-title="Using the MPS Debugger" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="mps-user-s-guide.topic|MPS User's Guide///debugger.topic|Debugger"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MPS 2024.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="using-mps-debugger" id="using-mps-debugger.topic">Using the MPS Debugger</h1><section class="chapter"><h2 id="usingmpsdebugger" data-toc="usingmpsdebugger">Debugging</h2><p id="-br0d1u_1">The MPS Debugger provides an API to create debuggers for custom languages. Java Debugger plugin, included into MPS distribution, allows user to debug programs which are written in languages which are finally generated into Base Language/Java. We use this plugin below to illustrate MPS Debugger features, which all are available to other lagnuages via API.</p><section class="chapter"><h3 id="execution" data-toc="execution">Execution</h3><p id="-br0d1u_2">We start with description of how to debug a java application. If a user has a class with main method, a Java Application run configuration should be used to run/debug such a program.</p><section class="chapter"><h4 id="creatinganinstanceofrunconfiguration" data-toc="creatinganinstanceofrunconfiguration">Creating an instance of run configuration</h4><p id="-br0d1u_3">A <b id="-br0d1u_4">Java Application</b>&nbsp;or an <b id="-br0d1u_5">MPS instance</b> run configurations can be created for a class with a main method or an MPS project, respectively. Go to Run -&gt; Edit Configurations menu and press a button with "+" as shown at the picture below:</p><figure id="-br0d1u_6"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/Debug1.png" class="lightbox"><img alt="Debug1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/Debug1.png" title="Debug1.png" width="700" height="402"></a></figure><p id="-br0d1u_7">A menu appears, choose Java Application from it and a new Java Application configuration will be created:</p><figure id="-br0d1u_8"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/Debug2.png" class="lightbox"><img alt="Debug2.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/Debug2.png" title="Debug2.png" width="400" height="285"></a></figure><p id="-br0d1u_9">If you select <b id="-br0d1u_10">Java Application</b>, you will be able to specify the Java class to run, plus a few optional configuration parameters:</p><figure id="-br0d1u_11"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/Debug3.png" class="lightbox"><img alt="Debug3.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/Debug3.png" title="Debug3.png" width="700" height="402"></a></figure><p id="-br0d1u_12">A name should be given to each run configuration, and a main node i.e. a class with a main method should be specified. Also VM and program parameters may be specified in a configuration. Look at Run Configuration chapter to learn more about run configurations.</p></section><section class="chapter"><h4 id="debugginglanguagedefinitions" data-toc="debugginglanguagedefinitions">Debugging language definitions</h4><p id="-br0d1u_13">Select&nbsp;<b id="-br0d1u_14">MPS instance</b>, if you want to debug MPS language definition code. MPS will start <b id="-br0d1u_15">a new instance of MPS</b> with a project that uses your language (it could also be the current project) and you will set breakpoints and debug in your original MPS instance.</p><p id="-br0d1u_16">In the <b id="-br0d1u_17">Debug configuration</b>&nbsp;dialog you need to indicate, which MPS project to open in the new MPS instance - either the current one by checking the <b id="-br0d1u_18">Open current project</b>&nbsp;check-box, or any project you specify in the field below. You could also leave both empty and create/open a project from he menu once the new MPS instance starts.</p><figure id="-br0d1u_19"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/Debug4.png" class="lightbox"><img alt="Debug4.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/Debug4.png" title="Debug4.png" width="700" height="402"></a></figure></section><section class="chapter"><h4 id="debuggingaconfiguration" data-toc="debuggingaconfiguration">Debugging a configuration</h4><p id="-br0d1u_20">To debug a run configuration, select it from configurations menu and then press the&nbsp;<b id="-br0d1u_21">Debug</b> button. The debugger starts, and the <b id="-br0d1u_22">Debugger tool window</b> appears below.</p><figure id="-br0d1u_23"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/Debug6.png" class="lightbox"><img alt="Debug6.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/Debug6.png" title="Debug6.png" width="900" height="595"></a></figure><p id="-br0d1u_24">There are two tabs in a tool: one is for the console view and other for the debugger view. In the console an application's output is shown.</p></section></section><section class="chapter"><h3 id="breakpoints" data-toc="breakpoints">Breakpoints</h3><p id="-br0d1u_25">Next section describes breakpoints usage.</p><section class="chapter"><h4 id="settingabreakpoint" data-toc="settingabreakpoint">Setting a breakpoint</h4><p id="-br0d1u_26">A breakpoint can be set on a statement, field or exception. To set or remove a breakpoint, press Ctrl-F8 on a node in the editor or click a left margin near a node. A breakpoint is marked with a red bubble on the left margin, a pink line inside the editor and a red frame around a node for the breakpoint. Exception breakpoints are created from the breakpoints dialog.</p><p id="-br0d1u_27">When the program is stared, breakpoints on which debugger cannot stop are specially highlighted.</p><figure id="-br0d1u_28"><img alt="cantstop.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/cantstop.png" title="cantstop.png" width="308" height="71"></figure><p id="-br0d1u_29">When debugger stops at a breakpoint, the current breakpoint line is marked blue, and the actual node for the breakpoint is decorated with black frame around it.</p><figure id="-br0d1u_30"><img alt="stop-on-breakpoint.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/stop-on-breakpoint.png" title="stop-on-breakpoint.png" width="541" height="126"></figure><p id="-br0d1u_31">If the cell for a node on which the program is stopped is inside a table, table cell is highlighted instead of a line.</p></section><section class="chapter"><h4 id="viewingbreakpointsviabreakpointsdialog." data-toc="viewingbreakpointsviabreakpointsdialog.">Viewing breakpoints via breakpoints dialog.</h4><p id="-br0d1u_32">All breakpoints set in the project could be viewed via Breakpoints dialog.</p><figure id="-br0d1u_33"><img alt="breakpoints-view.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/breakpoints-view.png" title="breakpoints-view.png" width="603" height="311"></figure><p id="-br0d1u_34">Java breakpoints features include:</p><ul class="list _bullet" id="-br0d1u_35"><li class="list__item" id="-br0d1u_36"><p>field watchpoints;</p></li><li class="list__item" id="-br0d1u_37"><p>exception breakpoints;</p></li><li class="list__item" id="-br0d1u_38"><p>suspend policy for java breakpoints;</p></li><li class="list__item" id="-br0d1u_39"><p>relevant breakpoint data (like thrown exception or changed field value) is displayed in variables tree.</p></li></ul></section><section class="chapter"><h4 id="examiningastateofaprogramatabreakpoint" data-toc="examiningastateofaprogramatabreakpoint">Examining a state of a program at a breakpoint</h4><p id="-br0d1u_40">When at a breakpoint, a Debugger tab can be used to examine a state of a program. There are three panels available:</p><ul class="list _bullet" id="-br0d1u_41"><li class="list__item" id="-br0d1u_42"><p>a "Frames" panel with a list of stack frames for a thread, selected using a combo box;</p></li><li class="list__item" id="-br0d1u_43"><p>a "Variable" tree which shows watchables (variables, parameters, fields and static fields) visible in the selected stack frame;</p></li><li class="list__item" id="-br0d1u_44"><p>a "Watches" panel with list of watches and their values.</p></li></ul><figure id="-br0d1u_45"><img alt="debug-tool-debug.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/debug-tool-debug.png" title="debug-tool-debug.png" width="903" height="248"></figure><p id="-br0d1u_46">In java debugger "Copy Value" action is available from the context menu of the variable tree.</p><figure id="-br0d1u_47"><img alt="copyvalue.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/copyvalue.png" title="copyvalue.png" width="506" height="120"></figure></section></section><section class="chapter"><h3 id="runtime" data-toc="runtime">Runtime</h3><section class="chapter"><h4 id="controllingexecutionofaprogram" data-toc="controllingexecutionofaprogram">Controlling execution of a program</h4><ul class="list _bullet" id="-br0d1u_48"><li class="list__item" id="-br0d1u_49"><p>To step over, use Run -&gt; Step Over or F8.</p></li><li class="list__item" id="-br0d1u_50"><p>To step out from a method, use Run -&gt; Step Out or Shift-F8.</p></li><li class="list__item" id="-br0d1u_51"><p>To step into a method call, use Run -&gt; Step Into or F7.</p></li><li class="list__item" id="-br0d1u_52"><p>To resume program execution, use Resume button or Run -&gt; Resume or F9.</p></li><li class="list__item" id="-br0d1u_53"><p>To pause a program manually, use Pause button or Run -&gt; Pause. When paused manually, that is, not at a breakpoint, info about variables is unavailable.</p></li></ul><p id="-br0d1u_54">There is a toolbar in Debugger window from where stepping actions are available.</p><figure id="-br0d1u_55"><img alt="toolbar.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/toolbar.png" title="toolbar.png" width="477" height="99"></figure></section></section><section class="chapter"><h3 id="expressions" data-toc="expressions">Expressions</h3><section class="chapter"><h4 id="expressionevaluation" data-toc="expressionevaluation">Expression evaluation</h4><p id="-br0d1u_56">MPS Java debugger allows user to evaluate expressions during debug, using info from program stack. It is called low-level evaluation, because user is only allowed to use pure java variables/fields from generated code, not entities from high-level source code.</p><p id="-br0d1u_57">To activate evaluation mode, a program should be stopped at a breakpoint. Press Alt-F8, and a dialog appears.</p><p id="-br0d1u_58">In a dialog there's a MPS Editor with a statement list inside it. Some code may be written there, which uses variables and fields from stack frame. To evaluate this code, press Evaluate button. The evaluated value will appear in a tree view below.</p><figure id="-br0d1u_59"><img alt="evaluate.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/evaluate.png" title="evaluate.png" width="436" height="255"></figure><p id="-br0d1u_60">To evaluate a piece of code from the editor, select it and press Alt+F8, and the code will be copied to the evaluation window.</p><figure id="-br0d1u_61"><img alt="evaluateselection.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/evaluateselection.png" title="evaluateselection.png" width="672" height="337"></figure></section><section class="chapter"><h4 id="watches" data-toc="watches">Watches</h4><p id="-br0d1u_62">Watches API and low-level watches for java debugger are implemented. "Low-level" means that user can write expressions using variables, available on the stack. To edit a watch, a so-called "context"(used variables, static context type and this type) must be specified. If the stack frame is available at the moment, context is filled automatically.</p><figure id="-br0d1u_63"><img alt="Edit_watch.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/Edit_watch.png" title="Edit_watch.png" width="500" height="265"></figure><p id="-br0d1u_64">Watches can be viewed in "Watches" tree in "Debug" tool window. Watches could be created, edited and removed via context menu or toolbar buttons.</p><figure id="-br0d1u_65"><img alt="Watches_tree.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/Watches_tree.png" title="Watches_tree.png" width="396" height="151"></figure></section></section></section><div class="last-modified">Last modified: 11 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="debugger-api.html" class="navigation-links__prev">Debugger API</a><a href="testing-languages.html" class="navigation-links__next">Testing languages</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/storage/help-app/v6/app.js"></script></body></html>
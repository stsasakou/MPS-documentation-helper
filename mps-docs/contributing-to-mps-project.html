<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><link rel="canonical" href="https://www.jetbrains.com/help/mps/contributing-to-mps-project.html" data-react-helmet="true"/><meta charset="UTF-8"></meta><meta name="built-on" content="2024-08-08T15:14:23.583043611"><meta name="build-number" content="170"><title>Contributing to JetBrains MPS Project | MPS Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"contributingtompsproject1","level":0,"title":"File a Bug Report","anchor":"#contributingtompsproject1"},{"id":"contributingtompsproject2","level":0,"title":"Create Unit Test reproducing the problem","anchor":"#contributingtompsproject2"},{"id":"contributingtompsproject3","level":0,"title":"Contributions","anchor":"#contributingtompsproject3"},{"id":"contributingtompsproject5","level":0,"title":"How to work with MPS sources","anchor":"#contributingtompsproject5"},{"id":"contributingtompsproject12","level":0,"title":"The project structure","anchor":"#contributingtompsproject12"},{"id":"tipsfordevelopers","level":0,"title":"Tips for developers","anchor":"#tipsfordevelopers"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/storage/help-app/v6/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Contributing to JetBrains MPS Project | MPS"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><meta property="og:site_name" content="MPS Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/mps/contributing-to-mps-project.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@jetbrains_MPS"><meta name="twitter:title" content="Contributing to JetBrains MPS Project | MPS"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@jetbrains_MPS"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/mps/contributing-to-mps-project.html#webpage",
    "url": "https://www.jetbrains.com/help/mps/contributing-to-mps-project.html",
    "name": "Contributing to JetBrains MPS Project | MPS",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/mps/#website",
    "url": "https://www.jetbrains.com/help/mps/",
    "name": "MPS Help"
}</script><!-- End Schema.org --><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
</head><body data-id="contributing-to-mps-project" data-main-title="Contributing to JetBrains MPS Project" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="mps-user-s-guide.topic|MPS User's Guide"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MPS 2024.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="contributing-to-mps-project" id="contributing-to-mps-project.topic">Contributing to JetBrains MPS Project</h1><section class="chapter"><h2 id="contributingtompsproject1" data-toc="contributingtompsproject1">File a Bug Report</h2><p id="i21qqsi_1">Reporting bugs is the most straightforward way to get involved. Bug reports take little time to file and are very helpful to developers. When you discover a problem, please <a href="https://youtrack.jetbrains.net/issues/MPS" id="i21qqsi_2" data-external="true" rel="noopener noreferrer">report it to the JetBrains MPS issue tracker</a>.</p><p id="i21qqsi_3">Make sure to provide information about your environment (OS, JDK, and MPS version), steps to reproduce the issue, and a description of the problem. As you are creating a new issue, the tracker will list similar existing issues â please review them to avoid duplicate issues. Feel free to upvote current issues.</p></section><section class="chapter"><h2 id="contributingtompsproject2" data-toc="contributingtompsproject2">Create Unit Test reproducing the problem</h2><p id="i21qqsi_4">Most bugs can be reproduced or checked by automated JUnit tests. It's much easier and faster for our team to reproduce the bug by running a test case instead of manually going through a list of steps to reproduce the bug. If you could spare a few minutes to create a JUnit test that reproduces your problem, we will likely be able to process your report and fix the bug faster. Our team would really appreciate this.</p></section><section class="chapter"><h2 id="contributingtompsproject3" data-toc="contributingtompsproject3">Contributions</h2><p id="i21qqsi_5">Before starting to contribute to MPS, we need you to sign our Contributor License Agreement (CLA) electronically. Please fill out this <a href="https://www.jetbrains.com/agreements/cla/" id="i21qqsi_6" data-external="true" rel="noopener noreferrer">form</a>, and we will send you the agreement to sign via DocuSign.</p><p id="i21qqsi_7">Please create a pull request to the MPS GitHub repository to contribute your code. Branch off your code from the <code class="code" id="i21qqsi_8">master</code> branch or a specific release branch (such as 2028.3).</p><p id="i21qqsi_9"><b id="i21qqsi_10">If you want to help but donât know how to go about it, please consult our list of nice-to-have simple features on our <a href="https://youtrack.jetbrains.com/issues/MPS?q=tag:%20mps-contribution%20" id="i21qqsi_11" data-external="true" rel="noopener noreferrer">issue tracker</a> with the contribution tag.</b> Paste the link of your pull request as a comment on the issue. A member of the MPS development team will then review your patch or pull request. If it meets the quality criteria and fits with the rest of the code, your patch will be accepted and you'll receive a notification. Patches with a unit test attached are typically processed faster.</p><p id="i21qqsi_12">You can also propose a fix or feature by filing a new issue with a detailed description and pasting a pull request link.</p><p id="i21qqsi_13">If you have any questions, feel free to <a href="mailto:mps-support@jetbrains.com" id="i21qqsi_14" data-external="true">email</a> us or post in the <a href="https://jetbrains-mps.slack.com/archives/C03RHQ8MTL0" id="i21qqsi_15" data-external="true" rel="noopener noreferrer">#contributors channel</a> in our Slack workspace.</p></section><section class="chapter"><h2 id="contributingtompsproject5" data-toc="contributingtompsproject5">How to work with MPS sources</h2><p id="i21qqsi_16">Although the main Git repository is located at JetBrains (see the <code class="code" id="i21qqsi_17">Accessing MPS Git Repository</code> section below), we keep a public mirror on GitHub. The mirror is primarily meant to be an easy-to-use repository for external contributors. Here's how you can make a contribution to MPS through GitHub.</p><section class="chapter"><h3 id="contributingtompsproject6" data-toc="contributingtompsproject6">Building MPS from source</h3><p id="i21qqsi_18">Please follow the instructions in the project <a href="https://github.com/JetBrains/MPS/blob/master/README.md" id="i21qqsi_19" data-external="true" rel="noopener noreferrer">README.md</a> file to clone and build the project.</p></section><section class="chapter"><h3 id="contributingtompsproject7" data-toc="contributingtompsproject7">Build MPS from the source by using the command line</h3><p id="i21qqsi_20">Alternatively, MPS can be built from the source by using the command line.</p><p id="i21qqsi_21">Before you start, make sure you have Ant installed. Download IntelliJ IDEA Community Edition and open the MPS project in it. To do so, click "Open Project" and choose the folder the Git repository is located in. After that, trigger a rebuild. Once the rebuild is finished, open a shell, navigate to the build directory, and run run.build.sh.</p></section><section class="chapter"><h3 id="contributingtompsproject8" data-toc="contributingtompsproject8">Make a contribution</h3><p id="i21qqsi_22">Now you should be ready to make your changes. Here are a couple of guidelines about how to do that:</p><ul class="list _bullet" id="i21qqsi_23"><li class="list__item" id="i21qqsi_24"><p>Feel free to commit as frequently as you like.</p></li><li class="list__item" id="i21qqsi_25"><p>Make sure to test your code by running the provided automated test suites. To do so, in IntelliJ IDEA select <code class="code" id="i21qqsi_26">Run -&gt; Run...</code> We strongly recommend running the <code class="code" id="i21qqsi_27">GlobalTestSuite, ModuleTestSuite,</code> and <code class="code" id="i21qqsi_28">ProjectTest</code> run configurations, in particular.</p></li><li class="list__item" id="i21qqsi_29"><p>There are no published code-style guidelines at the moment. You can check out the MPS sources or post in the <a href="https://jetbrains-mps.slack.com/archives/C03RHQ8MTL0" id="i21qqsi_30" data-external="true" rel="noopener noreferrer">#contributors channel</a> when in doubt.</p></li></ul></section><section class="chapter"><h3 id="contributingtompsproject9" data-toc="contributingtompsproject9">Push your changes</h3><p id="i21qqsi_31">Hereâs how you can forward your local changes to JetBrains:</p><ul class="list _bullet" id="i21qqsi_32"><li class="list__item" id="i21qqsi_33"><p>Push your branch to your private GitHub repository by running the command git push origin my_branch_name</p></li><li class="list__item" id="i21qqsi_34"><p>Make a pull request on GitHub. To do so, open your repository in a browser, <b id="i21qqsi_35">make sure you are looking at the branch that you want to pull</b>, and then click the <code class="code" id="i21qqsi_36">Pull Request</code> button in the top right-hand corner.</p></li><li class="list__item" id="i21qqsi_37"><p>Weâll process your request and send you a notification about the progress through the standard GitHub facilities.</p></li></ul></section><section class="chapter"><h3 id="contributingtompsproject10" data-toc="contributingtompsproject10">Keep your fork current</h3><p id="i21qqsi_38">As you change your code and commit, you make changes to your own fork of the MPS github repository. Using pull requests, you can make the MPS developers aware of your changes, and they may or may not integrate your change into the original repository. However, in the meantime, the original MPS repository will change (as a consequence of the MPS team working on the code), and your fork will go out of sync.</p><p id="i21qqsi_39">To keep your local clone and your remote fork in sync with the changes in the original repository, youâll need to pull from the original, resolve any conflicts, and then push to your fork. Follow these steps:</p><ul class="list _bullet" id="i21qqsi_40"><li class="list__item" id="i21qqsi_41"><p>In your local clone, add an additional remote that points to the original MPS github repository by using: git remote add mpsrepo <a href="https://github.com/JetBrains/MPS_" id="i21qqsi_42" data-external="true" rel="noopener noreferrer">https://github.com/JetBrains/MPS</a></p></li><li class="list__item" id="i21qqsi_43"><p>Pull the changes from the original repository by using git pull mpsrepo master</p></li><li class="list__item" id="i21qqsi_44"><p>If you develop your contribution to a branch as we suggested above, you'll have to merge the updated master into your branch using <code class="code" id="i21qqsi_45">git merge master</code> (while on your branch). As you do that, you will have to resolve any merge conflicts locally.</p></li><li class="list__item" id="i21qqsi_46"><p>You can then push the merged changes to your own fork using git push origin (where origin is the default name assigned to the remote by git clone).</p></li></ul></section><section class="chapter"><h3 id="contributingtompsproject11" data-toc="contributingtompsproject11">Accessing the MPS Git Repository</h3><p id="i21qqsi_47">The GitHub process described above is the preferred way to access the main MPS repository. However, it is also possible to use the MPS repository located at <code class="code" id="i21qqsi_48">git://git.jetbrains.com/mps/mps.git</code> as a base for submitting your patches to MPS.</p><p id="i21qqsi_49">To <a href="https://www.jetbrains.com/help/idea/checking-out-files-from-subversion-repository.html" id="i21qqsi_50" data-external="true" rel="noopener noreferrer">check out from IntelliJ IDEA</a>, use the following repository URL:</p><p id="i21qqsi_51"><code class="code" id="i21qqsi_52">git://git.jetbrains.org/mps/mps.git</code></p><p id="i21qqsi_53">To check out from the command line, use the following command:</p><p id="i21qqsi_54"><code class="code" id="i21qqsi_55">git clone git://git.jetbrains.org/mps/mps.git</code></p><p id="i21qqsi_56">In addition, you can <a href="http://git.jetbrains.org/?p=mps/mps.git" id="i21qqsi_57" data-external="true" rel="noopener noreferrer">browse the MPS sources using Gitâs web access</a>.</p></section></section><section class="chapter"><h2 id="contributingtompsproject12" data-toc="contributingtompsproject12">The project structure</h2><p id="i21qqsi_58">Admittedly, the overall project structure can be complicated to see from the hierarchy of modules and packages in IntelliJ IDEA and MPS. You'll likely have difficulty understanding how the pieces fit together at first. We've collected a few pointers below to help you get started. If you have any additional questions, please contact us by <a href="mailto:mps-support@jetbrains.com" id="i21qqsi_59" data-external="true">email</a> or through the <a href="https://jetbrains-mps.slack.com/archives/C03RHQ8MTL0" id="i21qqsi_60" data-external="true" rel="noopener noreferrer">#contributors Slack channel</a>.</p><section class="chapter"><h3 id="contributingtompsproject13" data-toc="contributingtompsproject13">The big division</h3><p id="i21qqsi_61">MPS is being developed in both IntelliJ IDEA and MPS itself, so the code base consists of Java sources and MPS models. Whenever you open a Java file in IntelliJ IDEA, you can check whether the file contains a <code class="code" id="i21qqsi_62">/*Generated by MPS */</code> comment. This would indicate that the source was generated and the real source is to be found in MPS, likely under a similar name. The shortcut <code class="code" id="i21qqsi_63">Cmd+O</code> on Mac or <code class="code" id="i21qqsi_64">Ctrl + N</code> on Windows is used to open files, classes, and root nodes by name, and will certainly come in handy. Luckily, the key combination is the same in both IntelliJ IDEA and MPS.</p></section><section class="chapter"><h3 id="contributingtompsproject14" data-toc="contributingtompsproject14">Structure</h3><p id="i21qqsi_65">The <b id="i21qqsi_66">Project View</b> in MPS may give you a rough guideline on how the project is structured:</p><figure id="i21qqsi_67"><img alt="The structure tool window" src="https://resources.jetbrains.com/help/img/idea/2024.1/Structure1.png" title="The structure tool window" width="500" height="863"></figure><ul class="list _bullet" id="i21qqsi_68"><li class="list__item" id="i21qqsi_69"><p><b id="i21qqsi_70">core</b> holds the essential language-design functionality: </p><ul class="list _bullet" id="i21qqsi_71"><li class="list__item" id="i21qqsi_72"><p><b id="i21qqsi_73">aspects</b> holds the functionality and languages of the individual language definition aspects.</p></li><li class="list__item" id="i21qqsi_74"><p><b id="i21qqsi_75">stubs</b> stores loaded external libraries, such as JDK, Ant, the IntelliJ Platform, and the <b id="i21qqsi_76">MPS Java sources</b>.</p></li></ul></li><li class="list__item" id="i21qqsi_77"><p><b id="i21qqsi_78">languages</b> contains core languages, such as baselanguage, <code class="code" id="i21qqsi_79">smodel</code>, <code class="code" id="i21qqsi_80">quotation</code>, <code class="code" id="i21qqsi_81">xml</code> and others.</p></li><li class="list__item" id="i21qqsi_82"><p><b id="i21qqsi_83">platform</b> contains the IDE extension functionality, such as the console, vas support, model checking, build language, and more.</p></li><li class="list__item" id="i21qqsi_84"><p><b id="i21qqsi_85">samples</b> groups the sample projects.</p></li><li class="list__item" id="i21qqsi_86"><p><b id="i21qqsi_87">tests</b> contains tests for various aspects of MPS.</p></li><li class="list__item" id="i21qqsi_88"><p><b id="i21qqsi_89">workbench</b> provides integration with the IntelliJ Platform and the implementation of many UI elements, and it supports execution and debugging.</p></li></ul></section><section class="chapter"><h3 id="contributingtompsproject15" data-toc="contributingtompsproject15">Committing your work</h3><p id="i21qqsi_90">The MPS project stores the generated artifacts in Git alongside the sources and models. Before committing, please ensure that all of the changed models have been regenerated â the <code class="code" id="i21qqsi_91">(generation required)</code> note must disappear. If you fail to do so, the TeamCity CI server will reject the commit with a failed build, since it checks that all artifacts are correctly generated. The best way to regenerate is to invoke <code class="code" id="i21qqsi_92">Rebuild</code> from the model's or module's context menu.</p></section></section><section class="chapter"><h2 id="tipsfordevelopers" data-toc="tipsfordevelopers">Tips for developers</h2><section class="chapter"><h3 id="addingproductivityguidetips" data-toc="addingproductivityguidetips">Adding productivity guide tips</h3><p id="i21qqsi_93">When adding a new productivity guide tip, either for MPS itself or for a standalone MPS-based IDE, please follow these guidelines:</p><ul class="list _bullet" id="i21qqsi_94"><li class="list__item" id="i21qqsi_95"><p>Create an HTML file describing the tip and place it in <code class="code" id="i21qqsi_96">/workbench/resources_en/source/tips</code>. Please follow the style used in the other tips.</p></li><li class="list__item" id="i21qqsi_97"><p>List your new HTML file in <code class="code" id="i21qqsi_98">/workbench/resources_en/source/tips/tips.xml</code> to make it part of the âTip of the dayâ dialog.</p></li><li class="list__item" id="i21qqsi_99"><p>Add a call to FeatureUsageTracker.getInstance().triggerFeatureUsed("my.key"); into an appropriate action to indicate that the feature is used in the productivity guide (where my.key is the identifier for the productivity tip that youâre creating or reusing).</p></li><li class="list__item" id="i21qqsi_100"><p>Add a display name to the key in <code class="code" id="i21qqsi_101">/workbench/resources_en/source/messages/FeatureStatisticsBundle.properties</code></p></li><li class="list__item" id="i21qqsi_102"><p>Register a productivity guide entry in <code class="code" id="i21qqsi_103">/workbench/resources/source/ProductivityFeaturesRegistry.xml</code> and mapp the id to the HTML page.</p></li></ul></section></section><div class="last-modified">Last modified: 11 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="study-generator-performance-tips.html" class="navigation-links__prev">Tips for improving performance of your generator</a><a href="copyrights.html" class="navigation-links__next">Copyrights</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/storage/help-app/v6/app.js"></script></body></html>
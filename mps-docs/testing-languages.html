<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><link rel="canonical" href="https://www.jetbrains.com/help/mps/testing-languages.html" data-react-helmet="true"/><meta charset="UTF-8"></meta><meta name="built-on" content="2024-08-08T15:14:20.121540097"><meta name="build-number" content="170"><title>Testing languages | MPS Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"testinglanguages","level":0,"title":"Testing languages","anchor":"#testinglanguages"},{"id":"introduction","level":0,"title":"Introduction","anchor":"#introduction"},{"id":"quicknavigationtable","level":0,"title":"Quick navigation table","anchor":"#quicknavigationtable"},{"id":"testscreation","level":0,"title":"Tests creation","anchor":"#testscreation"},{"id":"testingaspectsoflanguagedefinitions","level":0,"title":"Testing aspects of language definitions","anchor":"#testingaspectsoflanguagedefinitions"},{"id":"runningthetests","level":0,"title":"Running the tests","anchor":"#runningthetests"}]</script><script type="application/json" id="topic-shortcuts">{"CodeCompletion":{"Windows":{"keystrokes":[{"keys":["mod-Control","key-Space"]}],"platform":"PC"},"Emacs":{"keystrokes":[{"keys":["mod-Alt","char-/"]}],"platform":"PC"},"GNOME":{"keystrokes":[{"keys":["mod-Control","key-Space"]}],"platform":"PC"},"KDE":{"keystrokes":[{"keys":["mod-Control","key-Space"]}],"platform":"PC"},"Sublime Text":{"keystrokes":[{"keys":["mod-Control","key-Space"]}],"platform":"PC"},"XWin":{"keystrokes":[{"keys":["mod-Control","key-Space"]}],"platform":"PC"},"macOS":{"keystrokes":[{"keys":["mod-Control","key-Space"]}],"platform":"MAC"},"Sublime Text (macOS)":{"keystrokes":[{"keys":["mod-Control","key-Space"]}],"platform":"MAC"}},"ShowIntentionActions":{"Windows":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"Emacs":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"GNOME":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"KDE":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"Sublime Text":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"XWin":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"PC"},"macOS":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"MAC"},"Sublime Text (macOS)":{"keystrokes":[{"keys":["mod-Alt","key-Enter"]}],"platform":"MAC"}}}</script><link href="https://resources.jetbrains.com/storage/help-app/v6/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Testing languages | MPS"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><meta property="og:site_name" content="MPS Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/mps/testing-languages.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@jetbrains_MPS"><meta name="twitter:title" content="Testing languages | MPS"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@jetbrains_MPS"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/mps/testing-languages.html#webpage",
    "url": "https://www.jetbrains.com/help/mps/testing-languages.html",
    "name": "Testing languages | MPS",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/mps/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/mps/#website",
    "url": "https://www.jetbrains.com/help/mps/",
    "name": "MPS Help"
}</script><!-- End Schema.org --><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
</head><body data-id="testing-languages" data-main-title="Testing languages" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="mps-user-s-guide.topic|MPS User's Guide"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MPS 2024.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="testing-languages" id="testing-languages.topic">Testing languages</h1><section class="chapter"><h2 id="testinglanguages" data-toc="testinglanguages">Testing languages</h2></section><section class="chapter"><h2 id="introduction" data-toc="introduction">Introduction</h2><p id="sxa99p_1">Testing is an essential part of language designer's work. To be of any good MPS has to provide testing facilities both for <em id="sxa99p_2">BaseLanguage</em> code and for languages. While the&nbsp;<em id="sxa99p_3">jetbrains.mps.baselanguage.unitTest</em>&nbsp;language enables <b id="sxa99p_4">JUnit</b>-like unit tests to test <em id="sxa99p_5">BaseLanguage</em> code,&nbsp;the <b id="sxa99p_6">Language test</b> language&nbsp;<em id="sxa99p_7">jetbrains.mps.lang.test</em> provides a useful interface for creating language tests.</p><aside class="prompt" data-type="tip" data-title="" id="sxa99p_8"><p id="sxa99p_9">To minimize impact of test assertions on the test code, the <b id="sxa99p_10">Language test</b> language describes the testing aspects through <b id="sxa99p_11">annotations</b> (in a similar way that the generator language annotates template code with generator <em id="sxa99p_12">macros</em>).</p></aside></section><section class="chapter"><h2 id="quicknavigationtable" data-toc="quicknavigationtable">Quick navigation table</h2><p id="sxa99p_13">Different aspects of language definitions are tested with different means:</p><div class="table-wrapper"><table class="wide" id="sxa99p_14"><thead><tr class="ijRowHead" id="sxa99p_15"><th id="sxa99p_16" width="30%"><p id="sxa99p_17">Language definition aspects</p></th><th id="sxa99p_18" width="70%"><p id="sxa99p_19">The way to test</p></th></tr></thead><tbody><tr id="sxa99p_20"><td id="sxa99p_21"><p id="sxa99p_22">Intentions</p><p id="sxa99p_23">Actions</p><p id="sxa99p_24">Side-transforms</p><p id="sxa99p_25">Editor</p><p id="sxa99p_26">ActionMaps</p><p id="sxa99p_27">KeyMaps</p></td><td id="sxa99p_28"><p id="sxa99p_29">Use the <em id="sxa99p_30">jetbrains.mps.lang.test</em>&nbsp;language to create <em id="sxa99p_31">EditorTestCases</em>. You set the stage by providing an initial piece of code, define a set of editing actions to perform against the initial code and also provide an expected outcome as another piece of code. Any differences between the expected and real output of the test will be reported as errors.</p><p id="sxa99p_32">For more information, refer to the <a href="#editortests" id="sxa99p_33">Editor Tests section</a>.</p></td></tr><tr id="sxa99p_34"><td id="sxa99p_35"><p id="sxa99p_36">Constraints</p><p id="sxa99p_37">Scopes</p><p id="sxa99p_38">Type-system</p><p id="sxa99p_39">Dataflow</p></td><td id="sxa99p_40"><p id="sxa99p_41">Use the&nbsp;<em id="sxa99p_42">jetbrains.mps.lang.test</em>&nbsp;language to create&nbsp;<em id="sxa99p_43">NodesTestCases</em>. In these test cases write snippets of "correct" code and ensure no error or warning is reported on them. Similarly, write "invalid" pieces of code and assert that an error or a warning is reported in the correct node.</p><p id="sxa99p_44">For more information, refer to the&nbsp;<a href="#nodetests" id="sxa99p_45">Nodes Tests section</a>.</p></td></tr><tr id="sxa99p_46"><td id="sxa99p_47"><p id="sxa99p_48">Generator</p><p id="sxa99p_49">TextGen</p></td><td id="sxa99p_50"><p id="sxa99p_51">Use the <em id="sxa99p_52"></em> language to create <em id="sxa99p_53">GeneratorTests</em>. These let you transform test models and check whether the generated code matches the expected outcome.</p><p id="sxa99p_54">For more information, refer to the&nbsp;<a href="#generatortests" id="sxa99p_55">Generator Tests section</a>.</p><p id="sxa99p_56">There is currently no built-in testing facility for these aspects. There are a few practices that have worked for us over time:</p><ul class="list _bullet" id="sxa99p_57"><li class="list__item" id="sxa99p_58"><p>Perhaps the most reasonable way to check the generation process is by generating models, for which we already know the correct generation result, and then comparing the generated output with the expected one. For example, if your generated code is stored in a VCS, you could check for differences&nbsp;after each run of the tests.</p></li><li class="list__item" id="sxa99p_59"><p>You may also consider providing code snippets that may represent corner cases for the generator and check whether the generator successfully generates output from them, or whether it fails.</p></li><li class="list__item" id="sxa99p_60"><p>Compiling and running the generated code may also increase your confidence about the correctness of your generator.</p></li></ul></td></tr><tr id="sxa99p_61"><td id="sxa99p_62"><p id="sxa99p_63">Migrations</p></td><td id="sxa99p_64"><p id="sxa99p_65">Use the&nbsp;<em id="sxa99p_66">jetbrains.mps.lang.test</em>&nbsp;language to create <em id="sxa99p_67">MigrationTestCases</em>. In these test cases write pieces of code to run migration on them.</p><p id="sxa99p_68">For more information, refer to <a href="#migrationtests" id="sxa99p_69">Migration Tests section</a>.</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="testscreation" data-toc="testscreation">Tests creation</h2><p id="sxa99p_70">There are two options to add test models into your projects.</p><section class="chapter"><h3 id="1.createatest&nbsp;aspectinyourlanguage" data-toc="1.createatest&nbsp;aspectinyourlanguage">1. Create a Test&nbsp;aspect in your language</h3><p id="sxa99p_71">This is easier to setup, but can only contain tests that do not need to run in a newly started MPS instance. So typically can hold plain&nbsp;baselanguage&nbsp;unit tests. To create the <em id="sxa99p_72">Test</em>&nbsp;aspect,&nbsp;right-click the language node and choose chose <code class="code" id="sxa99p_73">New-&gt;Test Aspect</code>.</p><figure id="sxa99p_74"><img alt="T2.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T2.png" title="T2.png" width="651" height="309"></figure><p id="sxa99p_75">Now you can start creating unit tests in the <em id="sxa99p_76">Test</em>&nbsp;aspect.</p><figure id="sxa99p_77"><img alt="T1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T1.png" title="T1.png" width="808" height="218"></figure><p id="sxa99p_78">Right-clicking on the <em id="sxa99p_79">Test</em>&nbsp;aspect will give you the option to run all tests. The test report will then show up in a <em id="sxa99p_80">Run</em>&nbsp;panel at the bottom of the screen.</p></section><section class="chapter"><h3 id="2.createatestmodel" data-toc="2.createatestmodel">2. Create a test model</h3><p id="sxa99p_81">This option gives you more flexibility.&nbsp;Create a test model, either in a new or an existing solution. Make sure the model's stereotype is set to <em id="sxa99p_82">tests</em>.</p><figure id="sxa99p_83"><img alt="T3.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T3.png" title="T3.png" width="542" height="245"></figure><p id="sxa99p_84">Open the model's properties and add the&nbsp;<em id="sxa99p_85">jetbrains.mps.baselanguage.unitTest</em>&nbsp;language in order to be able to create unit tests. Add the&nbsp;<em id="sxa99p_86">jetbrains.mps.lang.test</em>&nbsp;language in order to create language (node) tests.</p><figure id="sxa99p_87"><img alt="T4.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T4.png" title="T4.png" width="536" height="444"></figure><p id="sxa99p_88">Additionally, you need to make sure the solution containing your test model has a kind set -&nbsp;typically choose&nbsp;<em id="sxa99p_89">Other</em>, if you do not need either of the two other options (<em id="sxa99p_90">Core plugin</em>&nbsp;or&nbsp;<em id="sxa99p_91">Editor plugin</em>).</p><figure id="sxa99p_92"><img alt="T8.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T8.png" title="T8.png" width="536" height="444"></figure><p id="sxa99p_93">Right-clicking on the model allows you to create new unit or language tests. See all the root concepts that are available:</p><figure id="sxa99p_94"><img alt="T5.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T5.png" title="T5.png" width="885" height="302"></figure><figure id="sxa99p_95"><img alt="T6.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T6.png" title="T6.png" width="924" height="333"></figure></section><section class="chapter"><h3 id="unittestingwithbtestcase" data-toc="unittestingwithbtestcase">Unit testing with BTestCase</h3><p id="sxa99p_96">As for BaseLanguage Test Case, represents a unit test written in <em id="sxa99p_97">baseLanguage</em>. Those are familiar with <b id="sxa99p_98">JUnit</b>&nbsp; will be quickly at home.</p><figure id="sxa99p_99"><img alt="T7.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T7.png" title="T7.png" width="1090" height="407"></figure><p id="sxa99p_100">A <em id="sxa99p_101">BTestCase</em>&nbsp;has four sections - one to specify test <b id="sxa99p_102">members</b> (fields), which are reused by <b id="sxa99p_103">test methods</b>, one to specify <b id="sxa99p_104">initialization</b> code, one for <b id="sxa99p_105">clean up</b> code and finally a section for the actual <b id="sxa99p_106">test methods</b>. The language also provides a couple of handy assertion statements, which code completion reveals.</p></section><section class="chapter"><h3 id="testinfo" data-toc="testinfo">TestInfo</h3><p id="sxa99p_107">Some tests, like for example, <em id="sxa99p_108">Node tests</em> or <em id="sxa99p_109">Editor tests</em> need to access the MPS project they are part of. MPS can locate the current project by inself in most cases, but an explicit project location can be provided inside a <em id="sxa99p_110">TestInfo</em> node in the root of your test model.. This applies to all modes of executing the JUnit tests:</p><ul class="list _bullet" id="sxa99p_111"><li class="list__item" id="sxa99p_112"><p>Running from the IDE, both in-process and out-of-process: it is assumed the project to open is the one currently open.</p></li><li class="list__item" id="sxa99p_113"><p>Running from the <em id="sxa99p_114">&lt;launchtests&gt;</em> task: the project path can be specified as an additional option "project path" of the task. If left unspecified, the <em id="sxa99p_115">${basedir}</em> is used, which corresponds to the home directory of the current project.</p></li><li class="list__item" id="sxa99p_116"><p>For a special case where neither of the above can be used, there is a possibility to specify the project location via a system property: <em id="sxa99p_117">-Dmps.test.project.path.</em></p></li></ul><figure id="sxa99p_118"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/testInfox1.png" class="lightbox"><img alt="testInfox1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/testInfox1.png" title="testInfox1.png" width="500" height="144"></a></figure><p id="sxa99p_119">When providing a custom <em id="sxa99p_120">TestInfo</em> node, the <em id="sxa99p_121">Project path</em> attribute in particular is worth your attention. This is where you need to provide a path to the project root, either as an absolute or relative path, or as a reference to a <b id="sxa99p_122">Path Variable</b>&nbsp;defined in MPS (<em id="sxa99p_123">Project Settings -&gt; Path Variables</em>).</p><figure id="sxa99p_124"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/pathVariables1.png" class="lightbox"><img alt="pathVariables1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/pathVariables1.png" title="pathVariables1.png" width="300" height="204"></a></figure><p id="sxa99p_125">To make the path variable available in Ant scripts, define it in your build file with the&nbsp;<code class="code" id="sxa99p_126">mps.macro.</code>&nbsp; prefix (refer to <a href="#fromabuildscript" id="sxa99p_127">example below</a>).</p></section></section><section class="chapter"><h2 id="testingaspectsoflanguagedefinitions" data-toc="testingaspectsoflanguagedefinitions">Testing aspects of language definitions</h2><section class="chapter"><h3 id="nodetests" data-toc="nodetests">Node tests</h3><p id="sxa99p_128">A <em id="sxa99p_129">NodesTestCase</em>&nbsp;contains three sections:</p><figure id="sxa99p_130"><img alt="T10.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T10.png" title="T10.png" width="278" height="164"></figure><p id="sxa99p_131">The first one contains code that should be verified. The section for <b id="sxa99p_132">test methods</b>&nbsp;may contain <em id="sxa99p_133">baseLanguage</em> code that further investigates nodes specified in the first section. The <b id="sxa99p_134">utility methods</b>&nbsp;section may hold reusable <em id="sxa99p_135">baseLanguage</em> code, typically invoked from the <b id="sxa99p_136">test methods</b>.</p><section class="chapter"><h4 id="checkingforcorrectness" data-toc="checkingforcorrectness">Checking for correctness</h4><p id="sxa99p_137">To test that the type system correctly calculates types and that proper errors and warnings are reported, you write a piece of code in your desired language first. Then select the nodes, that you'd like to have tested for correctness and choose the <em id="sxa99p_138">Add Node Operations Test Annotation</em>&nbsp;intention.</p><figure id="sxa99p_139"><img alt="T11.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T11.png" title="T11.png" width="348" height="251"></figure><figure id="sxa99p_140"><img alt="T12.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T12.png" title="T12.png" width="377" height="253"></figure><figure id="sxa99p_141"><img alt="T13.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T13.png" title="T13.png" width="382" height="256"></figure><p id="sxa99p_142">This will annotate the code with a <b id="sxa99p_143">check</b>&nbsp;attribute, which then can be made more concrete by setting a type of the check:</p><figure id="sxa99p_144"><img alt="T14.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T14.png" title="T14.png" width="877" height="311"></figure><figure id="sxa99p_145"><img alt="T15.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T15.png" title="T15.png" width="473" height="236"></figure><p id="sxa99p_146">The <b id="sxa99p_147">for error messages</b>&nbsp;option ensures that potential error messages inside the checked node get reported as test failures. So, in the given example, we are checking that there are no errors in the whole <em id="sxa99p_148">Script</em>.</p><p id="sxa99p_149">The other options allow you:</p><ul class="list _bullet" id="sxa99p_150"><li class="list__item" id="sxa99p_151"><p><em id="sxa99p_152">has error</em> - ensures a particular error is reported on a node</p></li><li class="list__item" id="sxa99p_153"><p><em id="sxa99p_154">has expected type</em> - ensures the annotated node is expected to have the specified type</p></li><li class="list__item" id="sxa99p_155"><p><em id="sxa99p_156">has info</em> - ensures a particular info message is reported on a node</p></li><li class="list__item" id="sxa99p_157"><p><em id="sxa99p_158">has type</em> - ensures the annotated node has the specified type</p></li><li class="list__item" id="sxa99p_159"><p><em id="sxa99p_160">has type in</em> - ensures the annotated node has one of the specified types</p></li><li class="list__item" id="sxa99p_161"><p><em id="sxa99p_162">has typesystem error</em> - ensures a specified typesystem error is reported on the annotated node</p></li><li class="list__item" id="sxa99p_163"><p><em id="sxa99p_164">has warning</em> - ensures a particular warning is reported on a node</p></li></ul></section><section class="chapter"><h4 id="checkingfortypesystemanddata-flowerrorsandwarnings" data-toc="checkingfortypesystemanddata-flowerrorsandwarnings">Checking for type system and data-flow errors and warnings</h4><p id="sxa99p_165">If, on the other hand, you want to test that a particular node is correctly reported by MPS as having an error or a warning, use the <b id="sxa99p_166">has error</b>&nbsp;/<b id="sxa99p_167">has warning</b>&nbsp;option.</p><figure id="sxa99p_168"><img alt="T16.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T16.png" title="T16.png" width="462" height="254"></figure><figure id="sxa99p_169"><img alt="T17.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T17.png" title="T17.png" width="655" height="236"></figure><p id="sxa99p_170">This works for both warnings and errors. Multiple warnings and errors can be declared with a single annotation.</p><figure id="sxa99p_171"><img alt="T26_1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T26_1.png" title="T26_1.png" width="1540" height="314"></figure><p id="sxa99p_172">You can even tie the check with the rule that you expect to report the error / warning. Press <kbd id="sxa99p_173" data-key="ShowIntentionActions">Alt+Enter</kbd> &nbsp;when with caret at the node and pick the <b id="sxa99p_174">Specify Rule References</b>&nbsp;option:</p><figure id="sxa99p_175"><img alt="T18.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T18.png" title="T18.png" width="636" height="259"></figure><figure id="sxa99p_176"><img alt="T19.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T19.png" title="T19.png" width="689" height="239"></figure><p id="sxa99p_177">An identifier of the rule has been added. You can navigate by <kbd id="sxa99p_178" data-key="CodeCompletion">Ctrl+Space</kbd> &nbsp;to the definition of the rule.</p><figure id="sxa99p_179"><img alt="T29.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T29.png" title="T29.png" width="952" height="252"></figure><p id="sxa99p_180">When run, the test will check that the specified rule is really the one that reports the error.</p></section><section class="chapter"><h4 id="type-systemspecificoptions" data-toc="type-systemspecificoptions">Type-system specific options</h4><p id="sxa99p_181">The <b id="sxa99p_182">check</b>&nbsp;command offers several options to test the calculated type of a node.</p><figure id="sxa99p_183"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/T100.png" class="lightbox"><img alt="T100.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T100.png" title="T100.png" width="900" height="275"></a></figure><figure id="sxa99p_184"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/T101.png" class="lightbox"><img alt="T101.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T101.png" title="T101.png" width="900" height="271"></a></figure><p id="sxa99p_185">Multiple expectations can be combined conveniently:</p><figure id="sxa99p_186"><img alt="T37.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T37.png" title="T37.png" width="592" height="52"></figure></section><section class="chapter"><h4 id="testingscopes" data-toc="testingscopes">Testing scopes</h4><p id="sxa99p_187">The <b id="sxa99p_188">Scope Test Annotation</b>&nbsp;allows the test to verify that the scoping rules bring the correct items into the applicable scope:</p><figure id="sxa99p_189"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/T102.png" class="lightbox"><img alt="T102.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T102.png" title="T102.png" width="900" height="483"></a></figure><p id="sxa99p_190">The <em id="sxa99p_191">Inspector panel</em>&nbsp;holds the list of expected items that must appear in the completion menu and that are valid targets for the annotated cell:</p><figure id="sxa99p_192"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/T103.png" class="lightbox"><img alt="T103.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T103.png" title="T103.png" width="900" height="516"></a></figure><figure id="sxa99p_193"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/T104.png" class="lightbox"><img alt="T104.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T104.png" title="T104.png" width="900" height="218"></a></figure></section><section class="chapter"><h4 id="testandutilitymethods" data-toc="testandutilitymethods">Test and utility methods</h4><p id="sxa99p_194">The <b id="sxa99p_195">test methods</b>&nbsp;may refer to nodes in your tests through labels. You assign labels to nodes using intentions:</p><figure id="sxa99p_196"><img alt="T32.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T32.png" title="T32.png" width="557" height="251"></figure><p id="sxa99p_197">The labels then become available in the test methods.</p><figure id="sxa99p_198"><img alt="T33.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T33.png" title="T33.png" width="648" height="380"></figure></section><section class="chapter"><h4 id="additionaloptionsdefinedintheinspector" data-toc="additionaloptionsdefinedintheinspector">Additional options defined in the Inspector</h4><p id="sxa99p_199">The <b id="sxa99p_200">Inspector</b> tool window provides additional options:</p><ul class="list _bullet" id="sxa99p_201"><li class="list__item" id="sxa99p_202"><p><b id="sxa99p_203">Can execute-in-process</b> - allows the author of the test to stop the test execution when the whole test suite is started to be run in-process. The test suit terminates with a <em id="sxa99p_204">TestSetNotToBeExecutedInProcessException</em> thrown. This may be useful when the test, for example, could accidentally damage the existing project by touching other nodes.</p></li><li class="list__item" id="sxa99p_205"><p><b id="sxa99p_206">Model access model</b> - specifies the type of access control applied to the test: </p><ul class="list _bullet" id="sxa99p_207"><li class="list__item" id="sxa99p_208"><p><b id="sxa99p_209">command</b> - the test will run wrapped in a command, so read/write access tto models is granted</p></li><li class="list__item" id="sxa99p_210"><p><b id="sxa99p_211">none</b> - no access control applied</p></li><li class="list__item" id="sxa99p_212"><p><b id="sxa99p_213">read</b> - the test will run wrapped in a read action, so reading models is allowed</p></li><li class="list__item" id="sxa99p_214"><p><b id="sxa99p_215">unset</b> - a maintenance value needed for migration that should not be used</p></li></ul></li></ul><figure id="sxa99p_216"><img alt="T32.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T32.png" title="T32.png" width="557" height="251"></figure><p id="sxa99p_217">The labels then become available in the test methods.</p><figure id="sxa99p_218"><img alt="T33.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T33.png" title="T33.png" width="648" height="380"></figure></section></section><section class="chapter"><h3 id="editortests" data-toc="editortests">Editor tests</h3><p id="sxa99p_219">Editor tests allow you to test the dynamism of the editor - actions, intentions and substitutions.</p><figure id="sxa99p_220"><img alt="T20.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T20.png" title="T20.png" width="842" height="254"></figure><p id="sxa99p_221">An empty editor test case needs a <b id="sxa99p_222">name</b>, an optional <b id="sxa99p_223">description</b>, setup the code as it should look&nbsp; <b id="sxa99p_224">before</b> an editor transformation, the code&nbsp;<b id="sxa99p_225">after</b> the transformation (result) and finally the actual trigger that transforms the code in the <b id="sxa99p_226">code</b>&nbsp;section.</p><figure id="sxa99p_227"><img alt="T21.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T21.png" title="T21.png" width="273" height="143"></figure><p id="sxa99p_228">For example, a test that an <em id="sxa99p_229">IfStatement</em> in <em id="sxa99p_230">BaseLanguage</em>&nbsp;can have an "else" block added if the user types "else{" behind the closing brace would look as follows:</p><figure id="sxa99p_231"><img alt="T21a.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T21a.png" title="T21a.png" width="300" height="425"></figure><p id="sxa99p_232">In the <b id="sxa99p_233">code</b>&nbsp;section the&nbsp;<em id="sxa99p_234">jetbrains.mps.lang.test</em>&nbsp;language gives you several options to invoke user-initiated actions:</p><ul class="list _bullet" id="sxa99p_235"><li class="list__item" id="sxa99p_236"><p><b id="sxa99p_237">type</b> - insert some text at the current caret position</p></li><li class="list__item" id="sxa99p_238"><p><b id="sxa99p_239">press keys</b> - simulate pressing a key combination</p></li><li class="list__item" id="sxa99p_240"><p><b id="sxa99p_241">invoke action</b> - trigger an action</p></li><li class="list__item" id="sxa99p_242"><p><b id="sxa99p_243">invoke intention</b> - trigger an intention</p></li><li class="list__item" id="sxa99p_244"><p><b id="sxa99p_245">invoke quick-fix XXX from YYY to the selected node</b> - invokes a specified quick-fix named XXX to an error YYY from the intentions menu, fails if the quick-fix is not available in the menu</p></li><li class="list__item" id="sxa99p_246"><p><b id="sxa99p_247">invoke quick-fix &lt;the only one available&gt; to the selected node</b> - invokes the only quick-fix that is available in the intentions menu, fails if 0 or more than 1 quick-fixes are available</p></li></ul><figure id="sxa99p_248"><img alt="T22.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T22.png" title="T22.png" width="500" height="217"></figure><p id="sxa99p_249">Obviously you can combine the special test commands with the plain <em id="sxa99p_250">BaseLanguage</em> code.</p><aside class="prompt" data-type="tip" data-title="" id="sxa99p_251"><p id="sxa99p_252">In order to be able to specify the desired actions and intentions, you need to import their models into the test model. Typically the <em id="sxa99p_253">jetbrains.mps.ide.editor.actions</em> model is the most needed one when testing the editor reactions to user-generated actions.</p></aside><p id="sxa99p_254">To mark the position of the&nbsp;<b id="sxa99p_255">caret</b>&nbsp;in the code, use the appropriate intention with the caret placed at the desired position:</p><figure id="sxa99p_256"><img alt="T23.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T23.png" title="T23.png" width="357" height="227"></figure><p id="sxa99p_257">The caret position can be specified in both the <b id="sxa99p_258">before</b>&nbsp;and the <b id="sxa99p_259">after</b>&nbsp;code:</p><figure id="sxa99p_260"><img alt="T25.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T25.png" title="T25.png" width="843" height="344"></figure><p id="sxa99p_261">The <em id="sxa99p_262">cell</em>&nbsp;editor annotation has extra properties to fine-tune the position of the caret in the annotated editor cell. These can be set in the <em id="sxa99p_263">Inspector</em>&nbsp;panel.</p><section class="chapter"><h4 id="inspectingtheeditorstate" data-toc="inspectingtheeditorstate">Inspecting the editor state</h4><p id="sxa99p_264">Some editor tests may wish to inspect the state of the editor more thoroughly. The&nbsp;<em id="sxa99p_265">editor component</em> expression gives you access to the editor component under the caret. You can inspect its state as well as modify it, like in these samples:</p><figure id="sxa99p_266"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/ec1.png" class="lightbox"><img alt="ec1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/ec1.png" title="ec1.png" width="500" height="64"></a></figure><figure id="sxa99p_267"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/ec2.png" class="lightbox"><img alt="ec2.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/ec2.png" title="ec2.png" width="500" height="80"></a></figure><figure id="sxa99p_268"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/ec3.png" class="lightbox"><img alt="ec3.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/ec3.png" title="ec3.png" width="500" height="59"></a></figure><figure id="sxa99p_269"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/ec4.png" class="lightbox"><img alt="ec4.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/ec4.png" title="ec4.png" width="500" height="63"></a></figure><p id="sxa99p_270">The&nbsp;<em id="sxa99p_271">is intention applicable</em> expression let's you test, whether a particular intention can be invoked in the given editor context:</p><figure id="sxa99p_272"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/iiap.png" class="lightbox"><img alt="iiap.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/iiap.png" title="iiap.png" width="500" height="181"></a></figure><p id="sxa99p_273">You can also get hold of the&nbsp;<b id="sxa99p_274">model</b> and&nbsp;<b id="sxa99p_275">project</b> using the&nbsp;<em id="sxa99p_276">model</em> and&nbsp;<em id="sxa99p_277">project</em> expressions, respectively.</p></section><section class="chapter"><h4 id="testingtwophasedeletion" data-toc="testingtwophasedeletion">Testing two-phase deletion</h4><p id="sxa99p_278">Two-phase deletion of nodes can be tested using the <em id="sxa99p_279">editor component</em> expression as follows</p><div class="code-block" data-lang="none">
      EditorTestUtil.runWithTwoStepDeletion({ =&gt;
         invoke action -&gt; Delete
         assert true DeletionApproverUtil.isApprovedForDeletion(editor component.getEditorContext(), editor component.getSelectedNode());
         assert true editor component.getDeletionApprover().isApprovedForDeletion(editor component.findNodeCell(editor component.getSelectedNode()));
         invoke action -&gt; Delete
      }, true);
   </div><ul class="list _bullet" id="sxa99p_281"><li class="list__item" id="sxa99p_282"><p>EditorTestUtils.runWithTwoStepDeletion will create a local context with two-step deletion enabled. Remember that the user can turn two-phase deletion on and off at will, so this will ensure consistent environment for the tests. The second, boolean parameter to the method indicates whether two-phase deletion should be on or off.</p></li><li class="list__item" id="sxa99p_283"><p>DeletionApproverUtil.isApprovedForDeletion - retrieved the cell corresponding to the current node and tests is "approvedForDeletion" flag.</p></li><li class="list__item" id="sxa99p_284"><p>Alternatively use <em id="sxa99p_285">component.getDeletionApprover()</em> to test the flag without the help of the utility class. You will have to find and provide the editor cell that should have the "approved for deletion" flag tested.</p></li></ul></section></section><section class="chapter"><h3 id="migrationtests" data-toc="migrationtests">Migration tests</h3><p id="sxa99p_286">Migrations tests can be used to check that migration scripts produce expected results using specified input.</p><figure id="sxa99p_287"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/new-migration-test.png" class="lightbox"><img alt="new-migration-test.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/new-migration-test.png" title="new-migration-test.png" width="500" height="208"></a></figure><p id="sxa99p_288">To create a migration test case you should specify its name and the migration scripts to test. In many cases it should be enough to test individual migration scripts separately, but you can safely specify more than one migration script in a single test case, if you need to test how migrations interact with one another.</p><figure id="sxa99p_289"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/empty-migration-test.png" class="lightbox"><img alt="empty-migration-test.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/empty-migration-test.png" title="empty-migration-test.png" width="500" height="179"></a></figure><p id="sxa99p_290">Additionally, migration test cases contain nodes to be passed into the migration process and those also nodes that are expected to come out as the ouptut of the migration.</p><figure id="sxa99p_291"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/input-output.png" class="lightbox"><img alt="input-output.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/input-output.png" title="input-output.png" width="500" height="353"></a></figure><p id="sxa99p_292">When running, migration tests behave the following way:</p><ol class="list _decimal" id="sxa99p_293" type="1"><li class="list__item" id="sxa99p_294"><p>Input nodes are copied as roots into an empty module with single model.</p></li><li class="list__item" id="sxa99p_295"><p>Migration scripts run on that module.</p></li><li class="list__item" id="sxa99p_296"><p>Roots contained in that module after migration are compared with the expected ouput</p></li><li class="list__item" id="sxa99p_297"><p>The check() method of the concerned migration(s) is invoked to ensure that it returns an empty list of problems</p></li></ol><p id="sxa99p_298">To simplify the process of writing migration tests, the expected output can be generated automatically from the input nodes using the currently deployed migration scripts. To do this, use the intention called 'Generate Output from Input'.</p><figure id="sxa99p_299"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/generate-output.png" class="lightbox"><img alt="generate-output.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/generate-output.png" title="generate-output.png" width="500" height="244"></a></figure></section><section class="chapter"><h3 id="generatortests" data-toc="generatortests">Generator tests</h3><p id="sxa99p_300">Generators can be tested with generator tests. Their goal is to ensure that a generator, or set of generators, do their transformations as expected. Both in-process and out-of-process execution modes are supported from the IDE, as well as execution from MPS Ant build scripts. As with all tests in MPS the user specifies:</p><ol class="list _decimal" id="sxa99p_301" type="1"><li class="list__item" id="sxa99p_302"><p>the pre-conditions in form of input models</p></li><li class="list__item" id="sxa99p_303"><p>the expected output of the generator in form of output models</p></li><li class="list__item" id="sxa99p_304"><p>the set of generators to apply to the input models in form of an explicit&nbsp;<a href="generation-plan.html" id="sxa99p_305">generator plan</a>&nbsp;or, if omitted, the implicit generator plan is used.</p></li></ol><p id="sxa99p_306">The&nbsp;<em id="sxa99p_307">jetbrains.mps.lang.test.generator</em> allows you to create&nbsp;<em id="sxa99p_308">GeneratorTests</em>. The <em id="sxa99p_309">jetbrains.mps.lang.modelapi</em> language will let you create convenient model references using the&nbsp;<b id="sxa99p_310">model/<em id="sxa99p_311">name of the model</em>/</b> syntax.</p><figure id="sxa99p_312"><img alt="GT1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/GT1.png" title="GT1.png" width="500" height="146"></figure><p id="sxa99p_313">Notice that the structure of a generator test gives you a section called <b id="sxa99p_314">Arguments</b>, where all the models need to be specified (input, expected output and optionally also models holding the generation plans), and a section called&nbsp;<b id="sxa99p_315">Assertions</b>, where the desired transformations and matching are specified.</p><p id="sxa99p_316">A failure to match the generator output with the expected output is presented to the user in the test report:</p><figure id="sxa99p_317"><img alt="GT2.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/GT2.png" title="GT2.png" width="500" height="232"></figure><section class="chapter"><h4 id="modelmatchoptions" data-toc="modelmatchoptions">Model Match Options</h4><p id="sxa99p_318">The way the expected output is compared with the actual result of generation tests can be configured with <b id="sxa99p_319">Match Options</b>.</p><figure id="sxa99p_320"><img alt="MatchOptions.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/MatchOptions.png" title="MatchOptions.png" width="500" height="381"></figure><p id="sxa99p_321">These match options can then be associated with assertions.</p></section><section class="chapter"><h4 id="reorderrootnodes" data-toc="reorderrootnodes">Reorder root nodes</h4><p id="sxa99p_322">Since the <b id="sxa99p_323">Project</b> tool windows always lists root nodes ordered alphabetically, it hides the actual physical order of root nodes in the model. By default, the order of root nodes in the models matters when the models are being compared during generation tests. To make the tests pass, you can either change the <b id="sxa99p_324">Match options</b> for your test or you can mannually re-order the root nodes in the output models to reflect the expectations you have from your generator.</p><figure id="sxa99p_325"><img alt="ReorderNodes1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/ReorderNodes1.png" title="ReorderNodes1.png" width="400" height="315"></figure><p id="sxa99p_326"><br></p><figure id="sxa99p_328"><img alt="ReorderNodes2.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/ReorderNodes2.png" title="ReorderNodes2.png" width="500" height="395"></figure></section></section></section><section class="chapter"><h2 id="runningthetests" data-toc="runningthetests">Running the tests</h2><section class="chapter"><h3 id="insidemps" data-toc="insidemps">Inside MPS</h3><p id="sxa99p_329">To run tests in a model, just right-click the model in the <em id="sxa99p_330">Project View</em>&nbsp;panel and choose <b id="sxa99p_331">Run tests</b>:</p><figure id="sxa99p_332"><img alt="T39.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T39.png" title="T39.png" width="480" height="774"></figure><p id="sxa99p_333">If the model contains any of the&nbsp;<em id="sxa99p_334">jetbrains.mps.lang.test</em>&nbsp;tests, a new instance of MPS is silently started in the background (that's why it takes quite some time to run these compared to plain <em id="sxa99p_335">baseLanguage</em> unit tests) and the tests are executed in that new MPS instance. A new run configuration is created, which you can then re-use or customize:</p><figure id="sxa99p_336"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/testrunconfig.png" class="lightbox"><img alt="testrunconfig.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/testrunconfig.png" title="testrunconfig.png" width="900" height="605"></a></figure><p id="sxa99p_337">The <b id="sxa99p_338">Run configurations</b>&nbsp;dialog gives you options to tune the performance of tests.</p><ul class="list _bullet" id="sxa99p_339"><li class="list__item" id="sxa99p_340"><p><b id="sxa99p_341">Override the default settings location</b>&nbsp;-&nbsp;specify the directory to save the caches in. By default, MPS chooses the temp directory. The directory is cleared on every run.</p></li><li class="list__item" id="sxa99p_342"><p id="sxa99p_343"><b id="sxa99p_344">Execute in the same process</b>&nbsp;-&nbsp;to speed up testing tests can be run in a so-called in-process mode. It was designed specifically for tests, which need to have an MPS instance running. (For example, for the language type-system tests MPS should safely be able to check the types of nodes on the fly.)</p><p id="sxa99p_345">One way to run tests is to have a new MPS instance started in the background and run the tests in this instance. The second way, enabled by this checkbox, runs all tests in the same original MPS process, so no new instance needs to be created.</p><p id="sxa99p_346">When the option <b id="sxa99p_347">Execute in the same process</b> is set, the test is executed in the current MPS environment. This is the default for:</p><ul class="list _bullet" id="sxa99p_348"><li class="list__item" id="sxa99p_349"><p>Node tests</p></li><li class="list__item" id="sxa99p_350"><p>Editor tests</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="sxa99p_351"><p>This option is not available for unit tests (BTestCases and JUnit test cases) and the tests will fail if run in the MPS process.</p></aside><p id="sxa99p_352">To run tests in the original way (in a separate process) you should uncheck this option. This is the default for:</p><ul class="list _bullet" id="sxa99p_353"><li class="list__item" id="sxa99p_354"><p>Migration tests</p></li><li class="list__item" id="sxa99p_355"><p>Generation tests</p></li><li class="list__item" id="sxa99p_356"><p>Unit tests (BTestCases and JUnit test cases)</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="sxa99p_357"><p id="sxa99p_358">Although the performance is so much better for in-process test execution, there are certain drawbacks in this workflow. Note, that the tests are executed in the same MPS environment that holds the project, so there is a possibility, that the code you write in your test may be potentially dangerous and sometimes cause real harm.</p><p id="sxa99p_359">For example, a test, which disposes the current project, could destroy the whole project. So the user of this feature needs to be careful when writing the tests. There are certain cases when the test must not be executable in-process. In that case it is possible to switch an option in the inspector to prohibit the in-process execution for that specific test.</p></aside><p id="sxa99p_360">The test report is shown in the <b id="sxa99p_361">Run</b>&nbsp;panel at the bottom of the screen:</p></li><li class="list__item" id="sxa99p_362"><p id="sxa99p_363">The JUnit run configuration accepts plugins to deploy before running the tests. The user can provide a list of idea plugins to be deployed during the test execution. The before task 'Assemble Plugins' is available in the JUnit run configuration as well. It automatically builds the given plugins and copies the artifacts to the settings directory.</p></li></ul><figure id="sxa99p_364"><img alt="T41.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/T41.png" title="T41.png" width="1136" height="401"></figure></section><section class="chapter"><h3 id="fromabuildscript" data-toc="fromabuildscript">From a build script</h3><p id="sxa99p_365">In order to have your generated build script offer the <em id="sxa99p_366">test</em> target that you could use to run the tests using Ant, you need to import the <em id="sxa99p_367">jetbrains.mps.build.mps</em>&nbsp;and&nbsp;<em id="sxa99p_368">jetbrains.mps.build.mps.tests</em>&nbsp;languages into your build script, declare using the <em id="sxa99p_369">module-tests</em>&nbsp;plugin and specify a <em id="sxa99p_370">test modules configuration</em>.</p><figure id="sxa99p_371"><a href="https://resources.jetbrains.com/help/img/idea/2024.1/BuiltTestConfig.png" class="lightbox"><img alt="testScript1.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/BuiltTestConfig.png" title="testScript1.png" width="900" height="1051"></a></figure><p id="sxa99p_372">By default, JUnit tests in MPS generate the test reports in the "vintage" and "jupiter" formats. In addition to that the Open Test report format can be enabled explicitly with the <em id="sxa99p_373">create open test report</em> option. If the option is set to true, report files named "junit-platform-events*-$BUILD_NAME$.xml" are created in the project directory.</p><p id="sxa99p_374">To define a macro that Ant will pass to JUnit (e.g. for use in TestInfo roots in your tests), prefix it with&nbsp;<code class="code" id="sxa99p_375">mps.macro.</code>:</p><figure id="sxa99p_376"><img alt="image2016-10-13-17-29-27.png" src="https://resources.jetbrains.com/help/img/idea/2024.1/image2016-10-13-17-29-27.png" title="image2016-10-13-17-29-27.png" width="614" height="156"></figure></section></section><div class="last-modified">Last modified: 22 July 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="using-mps-debugger.html" class="navigation-links__prev">Using the MPS Debugger</a><a href="mps-dependencies.html" class="navigation-links__next">Dependencies</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/storage/help-app/v6/app.js"></script></body></html>